<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>API Documentation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../css/template.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="../js/jquery.tools.min.js"></script><script type="text/javascript" src="../js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="../js/template.js"></script></head><body><div id="content"><h1 class="file">AdminBundle/Utils/importGift.php<a href="../source/AdminBundle/Utils/importGift.php.html"><img src="../images/icons/view_source.png" alt="View Source" border="0"></img></a></h1><div id="file-nav-box"><div id="file-nav-options">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"><li><a href="#classes"><img src="../images/icons/class.png" alt="Class" height="14"></img>
                          Classes
                      </a><ul><li><a href="#\PFC\AdminBundle\Utils\importGift">\PFC\AdminBundle\Utils\importGift</a></li></ul></li></ul><div style="clear: left;"></div></div><div id="file-nav-tab">
              Table of Contents
          </div></div><a name="top" class="anchor"></a><div id="file-description"><div class="long-description"></div></div><a name="classes" class="anchor"></a><a id="\PFC\AdminBundle\Utils\importGift" class="anchor"></a><h2 class="class">\PFC\AdminBundle\Utils\importGift<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>global</small><div class="long-description"></div><dl class="class-info"></dl><h3>Properties</h3><div><a id="\PFC\AdminBundle\Utils\importGift::$arrayQuestions" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">$arrayQuestions</span></code><div class="description"></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>n/a</dd></dl></div><div class="clear"></div></div><a id="\PFC\AdminBundle\Utils\importGift::$fileName" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">$fileName</span></code><div class="description"></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>n/a</dd></dl></div><div class="clear"></div></div><a id="\PFC\AdminBundle\Utils\importGift::$pathDir" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">$pathDir</span></code><div class="description"></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>n/a</dd></dl></div><div class="clear"></div></div></div><h3>Methods</h3><div><a id="\PFC\AdminBundle\Utils\importGift::arrayQuestionsValidator()" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">arrayQuestionsValidator</span><span class="nb-faded-text">(array $questions)</span> : array</code><div class="description"><p class="short_description">Valida el array de preguntas obtenido del archivo Gift y elimina aquellas entradas que no sean válidas.</p></div><div class="code-tabs"><div class="long-description">El Array tiene la siguiente estructura:

   arrayQuestions
    \_ type (string)
    \_ title (string)
    \_ description (string)
    \_ answers (array)
    |   \_ Content (string)
    |   \_ Value (integer)
    |   \_ Tolerance (integer)
    \_ numAnswers (integer)
    \_ numCorrectAnswers (integer)
    \_ penality (integer)
    \_ single (integer)</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$questions</th><td>array</td><td><em><p>Array de preguntas y respuestas extraido de un archivo en formato Gift subido al servidor</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>array</td><td></td></tr></table></div><div class="clear"></div></div><a id="\PFC\AdminBundle\Utils\importGift::getFileName()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getFileName</span><span class="nb-faded-text">()</span> : string</code><div class="description"><p class="short_description">Get fileName</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td></td></tr></table></div><div class="clear"></div></div><a id="\PFC\AdminBundle\Utils\importGift::getPathDir()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getPathDir</span><span class="nb-faded-text">()</span> : string</code><div class="description"><p class="short_description">Get pathDir</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td></td></tr></table></div><div class="clear"></div></div><a id="\PFC\AdminBundle\Utils\importGift::getQuestionsArray()" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">getQuestionsArray</span><span class="nb-faded-text">(string $text)</span> : array</code><div class="description"><p class="short_description">Construye un array con preguntas y respuestas, extraidas del texto del archivo GIFT importado.</p></div><div class="code-tabs"><div class="long-description">El formato de Gift es el siguiente:

   // text                    -> Comentario hasta el fin de la linea (opcional).
   ::title::                  -> Título de la pregunta (opcional). En esta aplicación se le denomína 'description'.
   text                       -> Texto de la pregunta (el enunciado).
   [...format...]             -> El formato de los siguientes bit de texto. pueden ser [html], [plain], [markdown] y [moodle], se encuentra siempre delante del texto.
   {                          -> Inicio de la(s) respuesta(s) de una pregunta.
   {T} o {F}                  -> Verdadoro of falso para las respuestas de este tipo (tambíen puede ser {TRUE} o {FALSE}).
   { ... =right ... }         -> Respuesta correcta para preguntas de tipo multiple-choice (de una sóla respuesta) y Short-Answer.
   { ... ~wrong ... }         -> Respuesta incorrecta para multiple-choice (de una sóla respuesta) o simplemente una respesta para las multi-evaluados.
   { ... =item -> match ... } -> Respuesta para preguntas de tipo Matching.
   #feedback text             -> Feedback de las preguntas. Se coloca inmediatamente después del texto de una respuesta. Ej.: =Ulysses S. Grant#Correct, Gratz!!!.
   ~%n%answer                 -> n porcentaje de acierto/penality (dependiendo si n es positivo o negativo) para una respuesta Multi-Chioce.
   {#                         -> Inicio de la(s) respuesta(s) de una pregunta de tipo numeric.
   answer:tolerance           -> Respuesta correcta para una pregunta de tipo numeric dentro de una ragon de ± tolerancia.
   low..high                  -> Valores de menor y mayor, respectivamente, para un rango en una respuesta Numeric.
   =%n%answer:tolerance       -> n porcentaje de acierto/penality (dependiendo si n es positivo o negativo) para una una respuesta Numeric multi-evaluada.
   }                          -> Fin de la(s) respuesta(s) para un pregunta.
   \character                 -> Carácter de escape para aquellos con significado especial en Gift: '~', '=', '#,'' '{', '}' y ':'.
   \n                         -> Caráctar que representa un salto de linea para el texto ('text') de una pregunta.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$text</th><td>string</td><td><em><p>Texto extraido del archivo Gift subido al servidor</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>array</td><td></td></tr></table></div><div class="clear"></div></div><a id="\PFC\AdminBundle\Utils\importGift::giftScapeChars2PlaceHolders()" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">giftScapeChars2PlaceHolders</span><span class="nb-faded-text">(string $text)</span> : string</code><div class="description"><p class="short_description">Reemplaza los caracteres de escape de Gift por unos marcadores de posición expecificos de esta aplicación, este cambio se realiza antes
  d el precesado del texto en formato Gift, para que así no intefiera en el mismo.</p></div><div class="code-tabs"><div class="long-description">Las sustituciones son las siguientes:

   \~ -> @tilde;
   \= -> @equal;
   \# -> @sharp;
   \{ -> @lbracket;
   \} -> @rbracket;
   \: -> @colon;
   \\ -> @backslash;
   \n -> <br /></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$text</th><td>string</td><td><em><p>Texto extraido pero no procesado de un archivo en formato Gift</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td></td></tr></table></div><div class="clear"></div></div><a id="\PFC\AdminBundle\Utils\importGift::importFile()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">importFile</span><span class="nb-faded-text">()</span> : integer</code><div class="description"><p class="short_description">Importa el archivo a procesar y obtiene los datos necesarios para construir las preguntas y sus respuestas</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>integer</td><td></td></tr></table></div><div class="clear"></div></div><a id="\PFC\AdminBundle\Utils\importGift::placeHolders2Char()" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">placeHolders2Char</span><span class="nb-faded-text">(string $text)</span> : string</code><div class="description"><p class="short_description">Reemplaza los marcadores de posición, incluidos por esta aplicación para sustituir los caracteres de escape de Gift, por el texto
   que representan dichos marcadores, este cambio se realiza una vez ha terminado el procesado del texto en formato Gift.</p></div><div class="code-tabs"><div class="long-description">Las sustituciones son las siguientes:</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$text</th><td>string</td><td><em><p>Texto extraido y procesado de un archivo en formato Gift</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Tilde</dt><dd>;     -> ~
   @equal;     -> =
   @sharp;     -> #
   @lbracket;  -> {
   @rbracket;  -> }
   @colon;     -> :
   @backslash; -> \
         
    </dd></dl></div><div class="clear"></div></div><a id="\PFC\AdminBundle\Utils\importGift::saveFileToBd()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">saveFileToBd</span><span class="nb-faded-text">(object $em, object $subcategory)</span> : void</code><div class="description"><p class="short_description">Construye las entidades Question y Answer y las persiste en la base de datos</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$em</th><td>object</td><td><em><p>Objeto que representa un Entity Managers de Doctrine</p></em></td></tr><tr><th>$subcategory</th><td>object</td><td><em><p>Objeto de la entidad Subcategory</p></em></td></tr></table></div><div class="clear"></div></div><a id="\PFC\AdminBundle\Utils\importGift::setFileName()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setFileName</span><span class="nb-faded-text">(string $fileName)</span> : \PFC\AdminBundle\Utils\importXml</code><div class="description"><p class="short_description">Set fileName</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$fileName</th><td>string</td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>\PFC\AdminBundle\Utils\importXml</td><td></td></tr></table></div><div class="clear"></div></div><a id="\PFC\AdminBundle\Utils\importGift::setPathDir()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setPathDir</span><span class="nb-faded-text">(string $pathDir)</span> : \PFC\AdminBundle\Utils\importXml</code><div class="description"><p class="short_description">Set pathDir</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$pathDir</th><td>string</td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>\PFC\AdminBundle\Utils\importXml</td><td></td></tr></table></div><div class="clear"></div></div></div></div></div><small class="footer">
            Documentation was generated by
            <a href="http://phpdoc.org">phpDocumentor
                2.5.0
</a>.
        </small></body></html>
